# è´«è¡€æ™ºèƒ½è¯Šæ–­ç³»ç»Ÿ - Anemia AI Diagnosis System

<div align="center">

[![Python](https://img.shields.io/badge/Python-3.7+-blue.svg)](https://www.python.org/)
[![React](https://img.shields.io/badge/React-18.0+-61DAFB.svg?logo=react)](https://reactjs.org/)
[![scikit-learn](https://img.shields.io/badge/scikit-learn-1.0+-orange.svg)](https://scikit-learn.org/)
[![License](https://img.shields.io/badge/License-CC%20BY--NC%204.0-lightgrey.svg)](LICENSE)

**åŸºäºæœºå™¨å­¦ä¹ çš„è´«è¡€ç±»å‹æ™ºèƒ½è¯Šæ–­ç³»ç»Ÿï¼Œæ”¯æŒ15ä¸ªè¡€æ¶²æŒ‡æ ‡è¾“å…¥ï¼Œå®ç°ä¸­è‹±æ–‡åŒè¯­è¾“å‡º**

[é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹) | [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„) | [å®‰è£…æŒ‡å—](#å®‰è£…æŒ‡å—) | [ä½¿ç”¨æ•™ç¨‹](#ä½¿ç”¨æ•™ç¨‹) | [æ¨¡å‹æ€§èƒ½](#æ¨¡å‹æ€§èƒ½) | [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)

</div>

---

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºçœŸå®åŒ»ç–—æ•°æ®çš„æœºå™¨å­¦ä¹ è¯¾ç¨‹è®¾è®¡é¡¹ç›®ï¼Œæ—¨åœ¨é€šè¿‡è¡€æ¶²æ£€æµ‹æŒ‡æ ‡æ™ºèƒ½è¯†åˆ«è´«è¡€ç±»å‹ã€‚ç³»ç»Ÿèƒ½å¤ŸåŒºåˆ†5ç§è´«è¡€ç±»åˆ«ï¼ŒåŒ…æ‹¬æ— è´«è¡€ã€è¡€çº¢è›‹ç™½è´«è¡€ã€ç¼ºé“æ€§è´«è¡€ã€å¶é…¸ç¼ºä¹ç—‡å’Œç»´ç”Ÿç´ B12ç¼ºä¹ç—‡ã€‚

### æ ¸å¿ƒäº®ç‚¹

- âœ… **æ•°æ®çœŸå®æ€§ä¿éšœ**ï¼šå‘ç°å¹¶ä¿®å¤æ•°æ®æ³„éœ²é—®é¢˜ï¼Œæ¨¡å‹å‡†ç¡®ç‡çœŸå®å¯é 
- ğŸ§  **æ™ºèƒ½ç‰¹å¾å·¥ç¨‹**ï¼šåŸºäºç›¸å…³æ€§åˆ†æè‡ªåŠ¨ç­›é€‰15ä¸ªæ ¸å¿ƒç‰¹å¾
- ğŸŒ **å…¨æ ˆç³»ç»Ÿ**ï¼šå®Œæ•´çš„å‰åç«¯å®ç°ï¼Œæ”¯æŒå®æ—¶é¢„æµ‹
- ğŸ‡¨ğŸ‡³ ğŸ‡¬ğŸ‡§ **ä¸­è‹±æ–‡åŒè¯­**ï¼šå‰åç«¯å‡æ”¯æŒä¸­æ–‡(è‹±æ–‡)æ ¼å¼
- ğŸ“Š **å¯è§†åŒ–åˆ†æ**ï¼šæ¦‚ç‡åˆ†å¸ƒå›¾ã€ç‰¹å¾é‡è¦æ€§åˆ†æ
- âš–ï¸ **ä¸å¹³è¡¡æ•°æ®å¤„ç†**ï¼šåº”ç”¨SMOTEæŠ€æœ¯ä¼˜åŒ–å°‘æ•°ç±»è¯†åˆ«

---

## æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šFlask 2.3.2 (Python Webæ¡†æ¶)
- **æœºå™¨å­¦ä¹ **ï¼šscikit-learn 1.3.0
- **æ•°æ®å¤„ç†**ï¼špandas 2.0.3, numpy 1.24.3
- **åºåˆ—åŒ–**ï¼šjoblib 1.3.1
- **CORS**ï¼šflask-cors 4.0.0

### å‰ç«¯æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šReact 18.2.0
- **æ ·å¼**ï¼šTailwind CSS 3.3.2
- **å›¾è¡¨**ï¼šRecharts 2.7.2
- **åŠ¨ç”»**ï¼šFramer Motion 10.16.4
- **HTTPè¯·æ±‚**ï¼šAxios 1.4.0
- **å›¾æ ‡**ï¼šLucide React 0.263.1

### æœºå™¨å­¦ä¹ æ¨¡å‹

- **ä¸»è¦ç®—æ³•**ï¼šRandom Forest (éšæœºæ£®æ—)
- **é›†æˆæŠ€æœ¯**ï¼šSMOTE (åˆæˆå°‘æ•°ç±»è¿‡é‡‡æ ·)
- **ç‰¹å¾æ•°é‡**ï¼š15ä¸ªæ ¸å¿ƒè¡€æ¶²æŒ‡æ ‡
- **ç±»åˆ«æ•°é‡**ï¼š5ç§è´«è¡€ç±»å‹

---

## å®‰è£…æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Python 3.7 or higher
- Node.js 16.0 or higher
- npm 8.0 or higher

### åç«¯å®‰è£…

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate     # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨æœåŠ¡å™¨
python app.py
```

æœåŠ¡å™¨å°†åœ¨ `http://127.0.0.1:5000` å¯åŠ¨

### å‰ç«¯å®‰è£…

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:5173` å¯åŠ¨

---

## ä½¿ç”¨æ•™ç¨‹

### 1. å¯åŠ¨ç³»ç»Ÿ

ç¡®ä¿åç«¯å’Œå‰ç«¯éƒ½å·²æˆåŠŸå¯åŠ¨ï¼š

```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
cd backend
python app.py

# ç»ˆç«¯2ï¼šå¯åŠ¨å‰ç«¯
cd frontend
npm run dev
```

### 2. è¾“å…¥è¡€æ¶²æŒ‡æ ‡

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:5173`ï¼Œä½ ä¼šçœ‹åˆ°è¾“å…¥ç•Œé¢ï¼š

**çº¢ç»†èƒç›¸å…³æŒ‡æ ‡ï¼š**
- è¡€çº¢è›‹ç™½(HGB)
- çº¢ç»†èƒå‹ç§¯(HCT)
- çº¢ç»†èƒè®¡æ•°(RBC)
- çº¢ç»†èƒåˆ†å¸ƒå®½åº¦(RDW)
- å¹³å‡çº¢ç»†èƒè¡€çº¢è›‹ç™½(MCH)
- å¹³å‡çº¢ç»†èƒè¡€çº¢è›‹ç™½æµ“åº¦(MCHC)
- å¹³å‡çº¢ç»†èƒä½“ç§¯(MCV)

**ç™½ç»†èƒç›¸å…³æŒ‡æ ‡ï¼š**
- æ·‹å·´ç»†èƒè®¡æ•°(LY#)
- ä¸­æ€§ç²’ç»†èƒè®¡æ•°(NE#)

**è¡€å°æ¿ç›¸å…³æŒ‡æ ‡ï¼š**
- è¡€å°æ¿è®¡æ•°(PLT)
- è¡€å°æ¿å‹ç§¯(PCT)
- è¡€å°æ¿åˆ†å¸ƒå®½åº¦(PDW)

**ç”ŸåŒ–æŒ‡æ ‡ï¼š**
- è¡€æ¸…é“(SD)
- æ€»é“ç»“åˆåŠ›(TSD)
- å¶é…¸(FOLATE)

### 3. é¢„æµ‹åˆ†æ

1. è¾“å…¥æ‰€æœ‰15ä¸ªè¡€æ¶²æŒ‡æ ‡å€¼
2. ç‚¹å‡»"æ™ºèƒ½è¯Šæ–­"æŒ‰é’®
3. ç­‰å¾…2-3ç§’ï¼Œç³»ç»Ÿä¼šè¿”å›é¢„æµ‹ç»“æœ

### 4. æŸ¥çœ‹ç»“æœ

é¢„æµ‹ç»“æœåŒ…æ‹¬ï¼š

- **é¢„æµ‹ç±»åˆ«**ï¼šå¦‚"ç¼ºé“æ€§è´«è¡€(Iron Deficiency Anemia)"
- **ç½®ä¿¡åº¦**ï¼šé¢„æµ‹çš„å¯ä¿¡åº¦ï¼ˆç™¾åˆ†æ¯”ï¼‰
- **æ¦‚ç‡åˆ†å¸ƒå›¾**ï¼šå„ç±»åˆ«çš„æ¦‚ç‡å¯è§†åŒ–å±•ç¤º
- **å¥åº·çŠ¶æ€å›¾æ ‡**ï¼šç»¿è‰²âœ“è¡¨ç¤ºæ— è´«è¡€ï¼Œé»„è‰²âš è¡¨ç¤ºå¼‚å¸¸

### 5. åˆ‡æ¢ä¸»é¢˜

ç‚¹å‡»å³ä¸Šè§’çš„"â˜€ï¸/ğŸŒ™"æŒ‰é’®å¯åˆ‡æ¢æ—¥é—´/å¤œé—´æ¨¡å¼ã€‚

ç‚¹å‡»GitHubå›¾æ ‡å¯è®¿é—®é¡¹ç›®æºä»£ç ã€‚

---

## æ¨¡å‹æ€§èƒ½

### æœ€ä½³æ¨¡å‹ï¼šRandom Forest + SMOTE

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| **æµ‹è¯•é›†å‡†ç¡®ç‡** | 91.59% |
| **Macro F1åˆ†æ•°** | 0.7334 |
| **ç‰¹å¾æ•°é‡** | 15ä¸ª |
| **ä¸å¹³è¡¡æ¯”ä¾‹** | 63.6:1 â†’ 1:1 (SMOTEå) |

### å„ç±»åˆ«æ€§èƒ½

| ç±»åˆ« | Precision | Recall | F1-Score |
|------|-----------|--------|----------|
| æ— è´«è¡€ | 0.95 | 0.96 | 0.95 |
| è¡€çº¢è›‹ç™½è´«è¡€ | 0.59 | 0.87 | 0.71 |
| ç¼ºé“æ€§è´«è¡€ | 0.98 | 0.87 | 0.92 |
| å¶é…¸ç¼ºä¹ç—‡ | 0.88 | 0.97 | 0.92 |
| ç»´ç”Ÿç´ B12ç¼ºä¹ç—‡ | 0.26 | 0.12 | 0.17 |

### ç‰¹å¾é‡è¦æ€§ Top 5

1. **å¶é…¸(FOLATE)** - 22.85%
2. **æ€»é“ç»“åˆåŠ›(TSD)** - 16.45%
3. **è¡€çº¢è›‹ç™½(HGB)** - 13.42%
4. **çº¢ç»†èƒå‹ç§¯(HCT)** - 8.67%
5. **è¡€æ¸…é“(SD)** - 7.15%

---

## APIæ–‡æ¡£

### å¥åº·æ£€æŸ¥

```http
GET /health
```

**è¿”å›å€¼ï¼š**
```json
{
  "status": "healthy",
  "model_loaded": true
}
```

### é¢„æµ‹æ¥å£

```http
POST /predict
Content-Type: application/json
```

**è¯·æ±‚ä½“ï¼š**
```json
{
  "HGB": 12.5,
  "HCT": 37.2,
  "RBC": 4.8,
  "RDW": 13.5,
  "MCH": 28.3,
  "MCHC": 33.8,
  "MCV": 88.5,
  "PLT": 245.0,
  "PCT": 0.25,
  "PDW": 12.4,
  "LY#": 2.1,
  "NE#": 3.5,
  "SD": 85.0,
  "TSD": 320.0,
  "FOLATE": 12.3
}
```

**è¿”å›æ ¼å¼ï¼š**
```json
{
  "class_id": 2,
  "class_label": "ç¼ºé“æ€§è´«è¡€(Iron Deficiency Anemia)",
  "probability": 0.8523,
  "all_probabilities": {
    "æ— è´«è¡€(No Anemia)": 0.0456,
    "è¡€çº¢è›‹ç™½è´«è¡€(HGB Anemia)": 0.0234,
    "ç¼ºé“æ€§è´«è¡€(Iron Deficiency Anemia)": 0.8523,
    "å¶é…¸ç¼ºä¹ç—‡(Folate Deficiency Anemia)": 0.0454,
    "ç»´ç”Ÿç´ B12ç¼ºä¹ç—‡(B12 Deficiency Anemia)": 0.0333
  }
}
```

---

## æ•°æ®è¯´æ˜

### æ•°æ®æ¥æº
- **æ¥æº**ï¼šåœŸè€³å…¶æ‰˜å¡ç‰¹Â·åŠ é½å¥¥æ–¯æ›¼å¸•è¨å¤§å­¦åŒ»å­¦é™¢
- **æ—¶é—´è·¨åº¦**ï¼š2013-2018å¹´ï¼ˆ5å¹´ï¼‰
- **æ ·æœ¬é‡**ï¼š15,300ä¾‹ â†’ æ¸…æ´—å15,212ä¾‹

### ç±»åˆ«åˆ†å¸ƒ

| ç±»åˆ« | æ ·æœ¬æ•° | å æ¯” | è¯´æ˜ |
|------|--------|------|------|
| 0 | 9,672 | 63.58% | æ— è´«è¡€ |
| 1 | 1,015 | 6.67% | è¡€çº¢è›‹ç™½è´«è¡€ |
| 2 | 4,175 | 27.45% | ç¼ºé“æ€§è´«è¡€ |
| 3 | 152 | 1.00% | å¶é…¸ç¼ºä¹ç—‡ |
| 4 | 198 | 1.30% | ç»´ç”Ÿç´ B12ç¼ºä¹ç—‡ |

### æ•°æ®æ¸…æ´—

1. åˆ é™¤é‡å¤æ ·æœ¬ï¼š88æ¡
2. ä¿®å¤æ•°æ®æ³„éœ²ï¼šç§»é™¤2ä¸ªæ³„éœ²ç‰¹å¾
3. ç‰¹å¾é€‰æ‹©ï¼šåŸºäºç›¸å…³æ€§ç­›é€‰15ä¸ªæ ¸å¿ƒç‰¹å¾
4. ç±»åˆ«å¹³è¡¡ï¼šåº”ç”¨SMOTEæŠ€æœ¯

---

## æ ¸å¿ƒç®—æ³•

### 1. SMOTEè¿‡é‡‡æ ·

å¯¹äºå°‘æ•°ç±»æ ·æœ¬ï¼Œæ‰¾åˆ°kä¸ªæœ€è¿‘é‚»ï¼ˆk=3ï¼‰ï¼Œåœ¨æ ·æœ¬ä¸é‚»å±…è¿çº¿ä¹‹é—´ç”Ÿæˆåˆæˆæ ·æœ¬ã€‚

```python
from imblearn.over_sampling import SMOTE

smote = SMOTE(random_state=42)
X_resampled, y_resampled = smote.fit_resample(X, y)
```

### 2. éšæœºæ£®æ—

é›†æˆå­¦ä¹ ç®—æ³•ï¼Œä½¿ç”¨Baggingç­–ç•¥æ„å»º100æ£µå†³ç­–æ ‘ã€‚

```python
from sklearn.ensemble import RandomForestClassifier

model = RandomForestClassifier(
    n_estimators=100,
    class_weight='balanced',
    random_state=42,
    n_jobs=-1
)
```

### 3. ç‰¹å¾é€‰æ‹©

åŸºäºç›¸å…³æ€§åˆ†æï¼Œç§»é™¤ä½ç›¸å…³æ€§ç‰¹å¾ã€‚

```python
# ä¿ç•™ç›¸å…³æ€§ |r| >= 0.05 çš„ç‰¹å¾
corr_threshold = 0.05
high_corr_features = target_corr[abs(target_corr) >= corr_threshold]
```

---

## å¼€å‘å›¢é˜Ÿ

**è¯¾ç¨‹è®¾è®¡é¡¹ç›®**
- æœºå™¨å­¦ä¹ è¯¾ç¨‹å®è·µä½œä¸š
- åŸºäºçœŸå®åŒ»ç–—æ•°æ®çš„æ™ºèƒ½è¯Šæ–­ç³»ç»Ÿ
- å…¨æ ˆå¼€å‘å®è·µ

**æŒ‡å¯¼æ•™å¸ˆ**ï¼šæœºå™¨å­¦ä¹ è¯¾ç¨‹ç»„

**ä¸»è¦è´¡çŒ®**ï¼š
- æ•°æ®æ¸…æ´—ä¸æ³„éœ²ä¿®å¤
- æ™ºèƒ½ç‰¹å¾å·¥ç¨‹
- æœºå™¨å­¦ä¹ å»ºæ¨¡
- å…¨æ ˆç³»ç»Ÿå®ç°
- åŒè¯­ç•Œé¢è®¾è®¡

---

## å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [CC BY-NC 4.0](https://creativecommons.org/licenses/by-nc/4.0/) åè®®ï¼ˆçŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®ï¼‰ã€‚

---

## è‡´è°¢

- **æ•°æ®æ¥æº**ï¼šåœŸè€³å…¶æ‰˜å¡ç‰¹Â·åŠ é½å¥¥æ–¯æ›¼å¸•è¨å¤§å­¦åŒ»å­¦é™¢
- **æ•°æ®é›†å¹³å°**ï¼šKaggle
- **å¼€æºæ¡†æ¶**ï¼šFlask, React, scikit-learn, Tailwind CSS

---

## å¦‚ä½•è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ç‰ˆæœ¬å†å²

- **v1.0** (2025-11-24)
  - âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
  - ğŸ¯ Random Forest + SMOTEæ¨¡å‹
  - ğŸŒ å®Œæ•´å‰åç«¯ç³»ç»Ÿ
  - ğŸ‡¨ğŸ‡³ ğŸ‡¬ğŸ‡§ ä¸­è‹±æ–‡åŒè¯­æ”¯æŒ
  - ğŸ“Š 15ä¸ªè¡€æ¶²æŒ‡æ ‡è¾“å…¥
  - ğŸ“ˆ å¯è§†åŒ–æ¦‚ç‡åˆ†å¸ƒ

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·åœ¨GitHubä¸Šç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼**

[ğŸ  è¿”å›é¡¶éƒ¨](#è´«è¡€æ™ºèƒ½è¯Šæ–­ç³»ç»Ÿ---anemia-ai-diagnosis-system)

</div>
